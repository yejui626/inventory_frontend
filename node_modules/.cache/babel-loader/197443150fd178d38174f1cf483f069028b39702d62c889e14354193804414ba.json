{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import'./css/style.css';import'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BookDetail(){const{productId}=useParams();const navigate=useNavigate();const[product,setProduct]=useState(null);function updateInventoryItem(itemId,newData){return axios.put(\"http://localhost:8000/api/update-inventory/\".concat(itemId,\"/\"),newData);}useEffect(()=>{fetchProduct();},[productId]);const fetchProduct=async()=>{try{const response=await axios.get(\"http://localhost:8000/api/inventory/\".concat(productId,\"/\"));setProduct(response.data);}catch(error){console.error('Error fetching product:',error);}};const handleUpdate=async()=>{try{if(!product){console.error('Product data is not available');return;}const response=await updateInventoryItem(productId,product);console.log('Item updated successfully:',response.data);}catch(error){console.error('Error updating item:',error);}};const handleDelete=async()=>{try{await axios.delete(\"http://localhost:8000/api/delete-inventory/\".concat(productId,\"/\"));navigate('/inventory');}catch(error){console.error('Error deleting product:',error);}};if(!product){return/*#__PURE__*/_jsx(\"div\",{className:\"book-detail\",children:\"No product found\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"book-detail\",children:[/*#__PURE__*/_jsx(\"h1\",{children:product.title}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"img\",{src:product.image_url,alt:\"Image\",className:\"book-image\"})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Title:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:product.title,onChange:e=>setProduct({...product,title:e.target.value})})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Author:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:product.author,onChange:e=>setProduct({...product,author:e.target.value})})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Category:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:product.category,onChange:e=>setProduct({...product,category:e.target.value})})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:product.price,onChange:e=>setProduct({...product,price:e.target.value})})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Quantity:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:product.quantity,onChange:e=>setProduct({...product,quantity:e.target.value})})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Publication Date:\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:product.publication_date,onChange:e=>setProduct({...product,publication_date:e.target.value})})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"ISBN:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:product.isbn,onChange:e=>setProduct({...product,isbn:e.target.value})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdate,className:\"btn btn-primary mr-2\",children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"btn btn-danger mr-2\",children:\"Delete\"})]});}export default BookDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","BookDetail","productId","navigate","product","setProduct","updateInventoryItem","itemId","newData","put","concat","fetchProduct","response","get","data","error","console","handleUpdate","log","handleDelete","delete","className","children","title","src","image_url","alt","type","value","onChange","e","target","author","category","price","quantity","publication_date","isbn","onClick"],"sources":["C:/Users/user/Desktop/ims_goo/inventory_frontend/src/components/BookDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './css/style.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nfunction BookDetail() {\r\n    const { productId } = useParams();\r\n    const navigate = useNavigate();\r\n    const [product, setProduct] = useState(null);\r\n\r\n    function updateInventoryItem(itemId, newData) {\r\n        return axios.put(`http://localhost:8000/api/update-inventory/${itemId}/`, newData);\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchProduct();\r\n    }, [productId]);\r\n\r\n    const fetchProduct = async () => {\r\n        try {\r\n            const response = await axios.get(`http://localhost:8000/api/inventory/${productId}/`);\r\n            setProduct(response.data);\r\n        } catch (error) {\r\n            console.error('Error fetching product:', error);\r\n        }\r\n    };\r\n\r\n    const handleUpdate = async () => {\r\n        try {\r\n            if (!product) {\r\n                console.error('Product data is not available');\r\n                return;\r\n            }\r\n\r\n            const response = await updateInventoryItem(productId, product);\r\n            console.log('Item updated successfully:', response.data);\r\n        } catch (error) {\r\n            console.error('Error updating item:', error);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        try {\r\n            await axios.delete(`http://localhost:8000/api/delete-inventory/${productId}/`);\r\n            navigate('/inventory');\r\n        } catch (error) {\r\n            console.error('Error deleting product:', error);\r\n        }\r\n    };\r\n\r\n    if (!product) {\r\n        return <div className=\"book-detail\">No product found</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"book-detail\">\r\n            <h1>{product.title}</h1>\r\n            <p>\r\n                <img src={product.image_url} alt=\"Image\" className=\"book-image\" />\r\n            </p>\r\n            <p>\r\n                Title:\r\n                <input\r\n                    type=\"text\"\r\n                    value={product.title}\r\n                    onChange={(e) => setProduct({ ...product, title: e.target.value })}\r\n                />\r\n            </p>\r\n            <p>\r\n                Author:\r\n                <input\r\n                    type=\"text\"\r\n                    value={product.author}\r\n                    onChange={(e) => setProduct({ ...product, author: e.target.value })}\r\n                />\r\n            </p>\r\n            <p>\r\n                Category:\r\n                <input\r\n                    type=\"text\"\r\n                    value={product.category}\r\n                    onChange={(e) => setProduct({ ...product, category: e.target.value })}\r\n                />\r\n            </p>\r\n            <p>\r\n                Price:\r\n                <input\r\n                    type=\"number\"\r\n                    value={product.price}\r\n                    onChange={(e) => setProduct({ ...product, price: e.target.value })}\r\n                />\r\n            </p>\r\n            <p>\r\n                Quantity:\r\n                <input\r\n                    type=\"number\"\r\n                    value={product.quantity}\r\n                    onChange={(e) => setProduct({ ...product, quantity: e.target.value })}\r\n                />\r\n            </p>\r\n            <p>\r\n                Publication Date:\r\n                <input\r\n                    type=\"date\"\r\n                    value={product.publication_date}\r\n                    onChange={(e) => setProduct({ ...product, publication_date: e.target.value })}\r\n                />\r\n            </p>\r\n            <p>\r\n                ISBN:\r\n                <input\r\n                    type=\"text\"\r\n                    value={product.isbn}\r\n                    onChange={(e) => setProduct({ ...product, isbn: e.target.value })}\r\n                />\r\n            </p>\r\n            <button onClick={handleUpdate} className=\"btn btn-primary mr-2\">Update</button>\r\n            <button onClick={handleDelete} className=\"btn btn-danger mr-2\">Delete</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default BookDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}